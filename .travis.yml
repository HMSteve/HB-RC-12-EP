language: c++
env:
  global:
  - IDE_VERSION=1.8.1
  - BOARD="MightyCore:avr:1284:pinout=standard,variant=modelP,LTO=Os,clock=8MHz_internal"
  - SKETCH="HB-RC-12-EP.ino"
before_install:
- wget http://downloads.arduino.cc/arduino-$IDE_VERSION-linux64.tar.xz
- tar xf arduino-$IDE_VERSION-linux64.tar.xz
- mv arduino-$IDE_VERSION $HOME/arduino-ide
- export PATH=$PATH:$HOME/arduino-ide
install:
- mkdir -p $HOME/Arduino/libraries
- ln -s $PWD $HOME/Arduino/libraries/.
- arduino --pref "update.check=false" --save-prefs
- arduino --pref "boardsmanager.additional.urls=https://mcudude.github.io/MightyCore/package_MCUdude_MightyCore_index.json"
  --save-prefs
- arduino --install-boards MightyCore:avr:2.0.4
- git clone --branch=master https://github.com/pa-pa/AskSinPP.git $HOME/arduino-ide/libraries/AskSinPP
- git clone https://github.com/GreyGnome/EnableInterrupt $HOME/arduino-ide/libraries/EnableInterrupt
- git clone https://github.com/rocketscream/Low-Power.git $HOME/arduino-ide/libraries/Low-Power
- git clone https://github.com/adafruit/Adafruit-GFX-Library.git $HOME/arduino-ide/libraries/Adafruit-GFX-Library
- git clone https://github.com/olikraus/U8g2_for_Adafruit_GFX.git $HOME/arduino-ide/libraries/U8g2_for_Adafruit_GFX
- git clone https://github.com/ZinggJM/GxEPD.git $HOME/arduino-ide/libraries/GxEPD
script:
- arduino --verify --board $BOARD $PWD/$SKETCH
notifications:
  pushover:
    on_success: always
    on_failure: always
    api_key:
      secure: ir1yanTXzdDjDtNhvK+x/j3PUQkeq7Ze75uHzEuWZw24kEIxOjdXJokIWPxgAkfp6MM+OsO17/vow/TlDFXsDni2EaC4Sf5YInmv/7UtDsZvsD87iqX8FZti99gEoy6/34wXRsObuNblWoyjwTsBry3tWw0NumO6WBJzAzVuIb2xWPvC8QTu3TsA7bqOdtTiLSi4CuOBbCvfjpJSEab9REOwV5nw8TOPsLKiEHskwEkAwEG05j2Fq/jMy4NExHci3r/L0EVckqyv6MqqN1K3JoNmBJKdueoXFebYtx89kdhabtohyBTTp7ifb7SIDh5hi+QyGRdO3ZyX+7cuCyHEbmEq4L9bhqINmbgOuKb4RWw5wnKw0P/Arh7cN2Zx/9MXsOdFFkET4U16lE1+Ty6UHsAx/HSW9z/7gpkPYNS4XhlVsxwatd3CmOFqRYWkVo8aV4ztSapJzEA86K4pal9hgoaRPN6cJuHSC4h5Oeow7f7vdoxl20wW353GxXRmycoiBrLlS9grUoxMPtWfQz79icUnMKSwWyBeSTnvNmAqTdgXfJHqwuNQzMS4E0rWI5AhGGE5YtXwMxGn4gclJOJmbXJJDWRh8hFVepme3twWlLUBEMuG7IAT531mnja5WlvAbn29ElLUAsXVNdRoQPPPmBI2yZQQvZ7K2rkZWPxXD3c=
    users:
    - secure: CzutRxYPo7xDvuQF8SMe9FdOSg21DrCarE2+uvAu4P0CIKwNR4Nv3+TCYQX7fWY5tHZzgJqPWJAn718WFQupAvB9rkCJ8pvxy37gM4WDhuHY//GD5FU3/vuU4oHhfh0xGGlRuQ5U45oRdY6p50YYPguMIn95APPnTLn6C6PcOBCorvMfu6fRnUHyrFPxfMZcnQB6Ac4SjHQ/UeXyuPq43SSYES3LQVY9Gc8A5A7NiAxlQhPBCqBIN1Pk8WS1lY8WSKyL3mD3m3NuB4HHl1zSjfZdPL89zempILoXNjr8Nn1wopm/x6ESAG4sJMDGtpqlLvpqJqAObyIe01H+007tWiigsJcWRhtLCOiFwE+9hmB//3Oy/9903cEdWpl2a7xJDZFHzCMjzD09CccLIbDrAvCdIee0wyqeViOEDgvE4F295u02dCi0sVeu0pG4jJ+t8zdDro9pCcl8LWaTEGmLCkBxc2cFugZSLYLhu1Fec+uQgL8Qfrk3p9MhILoiw3Ab/KYSKM5rGMeD4uvJ05/BdIb11zG/iuDlHAI5VkDGZucGUAESLj6ChLcaOiLWsAIXMbZTKo+i4yjVE6okQOdfDb7hF6I2KDMD6UchDs9XLvHr9aRHqMCAqtWkafKMMEMA1rctqBnokpVGeaowuhFr8Ev9D/RwXSCFGZx06tRi7EU=
  email:
    on_failure: always
